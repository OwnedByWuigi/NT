UNIVERSAL_WGF_TEST=1

!include ..\Conf11_core.mk

TARGETNAME=WGF11D3DWDDM

USE_STATIC_ATL = 1
ATL_VER = 70

SXS_APPLICATION_MANIFEST=WGF11D3DWDDM.exe.manifest
SXS_ASSEMBLY_NAME=WGF11D3DWDDM
SXS_ASSEMBLY_LANGUAGE_INDEPENDENT=1

INCLUDES=\
	.\; \
	$(INCLUDES) \
	$(SDKTOOLS_INC_PATH)\detours\v3.0; \

SOURCES=\
    Adapter.cpp \
	D3D9DriverRuntimeVersionTest.cpp \
	D3DWDDM.rc \
	D3DWDDM.cpp \
	D3DWDDMDriverVersionTest.cpp \
	DetoursTest.cpp \

SOURCES=$(SOURCES) kitContent.kml

TARGETLIBS=\
	$(TARGETLIBS) \
	$(SDK_LIB_PATH)\Psapi.lib \
	$(SDK_LIB_PATH)\D3d9.lib \
	$(MINCORE_PRIV_SDK_LIB_VPATH)\ext-ms-win-ntuser-gui-l1.lib \
	
DELAYLOAD=\
	$(DELAYLOAD) \
	d3d9.dll; \
	psapi.dll; \
	ext-ms-win-ntuser-gui-l1.dll;

VARIABLE_OVERRIDES=$(VARIABLE_OVERRIDES);OBJ_PATH=$(OBJ_PATH)
VARIABLE_OVERRIDES=$(VARIABLE_OVERRIDES);TARGETNAME=$(TARGETNAME)
SPKG_SOURCES=..\sources.pkg.xml
SPKG_TARGET_DESTINATION=$(SPKG_DEFAULT_TARGET_DESTINATION)\D3DTest